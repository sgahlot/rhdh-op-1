{"version":3,"file":"index.cjs.js","sources":["../src/dynamic/index.ts"],"sourcesContent":["import {BackendDynamicPluginInstaller} from '@backstage/backend-dynamic-feature-service';\n// import {createRouter, GitlabFillerProcessor} from '@immobiliarelabs/backstage-plugin-gitlab-backend';\nimport {S3Builder} from '@spreadshirt/backstage-plugin-s3-viewer-backend';\n\nexport const dynamicPluginInstaller: BackendDynamicPluginInstaller = {\n    kind: 'legacy',\n\n    router: {\n        pluginID: 'gitlab',\n        // createPlugin: createRouter,\n        createPlugin(env) {\n            return S3Builder.createBuilder({\n                config: env.config,\n                logger: env.logger,\n                scheduler: env.scheduler,\n                discovery: env.discovery,\n                identity: env.identity,\n                permissions: env.permissions,\n                tokenManager: env.tokenManager,\n              }).build();\n        }\n    },\n\n    catalog(builder, env) {\n        // builder.addProcessor(new GitlabFillerProcessor(env.config));\n    },\n};\n"],"names":["S3Builder"],"mappings":";;;;;;AAIO,MAAM,sBAAwD,GAAA;AAAA,EACjE,IAAM,EAAA,QAAA;AAAA,EAEN,MAAQ,EAAA;AAAA,IACJ,QAAU,EAAA,QAAA;AAAA;AAAA,IAEV,aAAa,GAAK,EAAA;AACd,MAAA,OAAOA,yCAAU,aAAc,CAAA;AAAA,QAC3B,QAAQ,GAAI,CAAA,MAAA;AAAA,QACZ,QAAQ,GAAI,CAAA,MAAA;AAAA,QACZ,WAAW,GAAI,CAAA,SAAA;AAAA,QACf,WAAW,GAAI,CAAA,SAAA;AAAA,QACf,UAAU,GAAI,CAAA,QAAA;AAAA,QACd,aAAa,GAAI,CAAA,WAAA;AAAA,QACjB,cAAc,GAAI,CAAA,YAAA;AAAA,OACnB,EAAE,KAAM,EAAA,CAAA;AAAA,KACf;AAAA,GACJ;AAAA,EAEA,OAAA,CAAQ,SAAS,GAAK,EAAA;AAAA,GAEtB;AACJ;;;;"}